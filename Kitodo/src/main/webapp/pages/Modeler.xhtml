<!DOCTYPE html>
<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->

<html
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:t="http://myfaces.apache.org/tomahawk"
        xmlns:p="http://primefaces.org/ui"
>
<f:view locale="#{SpracheForm.locale}">
    <ui:include src="inc/head.xhtml" />
    <h:outputScript library="js" name="bpmn-js/bpmn-modeler.js" target="body" />
    <h:outputScript library="js" name="app.js" target="body" />
    <h:body>
        <table class="headTable" cellspacing="0" cellpadding="0"
               style="padding-left:5px;padding-right:5px;margin-top:5px;">
            <ui:include src="inc/tbl_Kopf.xhtml" />
        </table>
        <table cellspacing="5" cellpadding="0" class="layoutTable" align="center">
            <tr>
                <ui:include src="inc/tbl_Navigation.xhtml" />
                <td valign="top" class="layoutInhalt" id="modeler" style="width: 40%;">
                    <h:form id="xmlDiagramCreateForm" enctype="multipart/form-data">
                        <p:outputLabel for="diagramName" value="Diagram name:" />
                        <p:inputText id="diagramName" value="#{ModelerForm.xmlDiagramName}"/>
                        <p:commandButton value="Create XML diagram" action="#{ModelerForm.createXMLDiagram}"
                                         update="newXMLDiagram" oncomplete="setDiagramXML()"/>
                        <h:inputHidden value="#{ModelerForm.xmlDiagram}" id="newXMLDiagram" />
                    </h:form>
                    <h:form id="xmlDiagramReadForm" enctype="multipart/form-data">
                        <p:outputLabel for="diagram" value="Diagrams:" />
                        <p:selectOneMenu id="diagram" value="#{ModelerForm.xmlDiagramName}" style="width:125px">
                            <f:selectItems value="#{ModelerForm.xmlDiagramNames}" var="xmlDiagramName"
                                           itemValue="#{xmlDiagramName}" itemLabel="#{xmlDiagramName}"/>
                        </p:selectOneMenu>

                        <p:commandButton value="Read XML diagram" action="#{ModelerForm.readXMLDiagram}"
                                         update="xmlDiagram" oncomplete="setDiagramXML()"/>
                        <h:inputHidden value="#{ModelerForm.xmlDiagram}" id="xmlDiagram" />
                    </h:form>
                    <h:form id="xmlDiagramSaveForm" enctype="multipart/form-data">
                        <p:remoteCommand name="xmlContent" actionListener="#{ModelerForm.save}" />
                        <p:commandButton id="save" type="button" value="Save XML diagram" />
                    </h:form>
                </td>
                <td style="width: 50%;">
                    <div id="canvas" style="width: 100%; height: 100%;"></div>
                </td>
            </tr>
            <ui:include src="inc/tbl_Fuss.xhtml" />
        </table>
    </h:body>
</f:view>
</html>
