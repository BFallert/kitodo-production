<?xml version="1.0"?>
<!--
 *
 * (c) Kitodo. Key to digital objects e. V. <contact@kitodo.org>
 *
 * This file is part of the Kitodo project.
 *
 * It is licensed under GNU General Public License version 3 or later.
 *
 * For the full copyright and license information, please read the
 * GPL3-License.txt file that was distributed with this source code.
 *
-->
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>

    <class name="de.sub.goobi.beans.Schritt" table="schritte">
        <!--  <cache usage="read-write"/> -->
        <id name="id" column="SchritteID" type="integer">
            <generator class="native"/>
        </id>

        <property name="titel" column="Titel" type="string"/>
        <property name="prioritaet" column="Prioritaet" type="integer"/>
        <property name="reihenfolge" column="Reihenfolge" type="integer"/>
        <property name="bearbeitungsstatus" column="Bearbeitungsstatus" type="integer"/>
        <property name="editType" column="edittype" type="integer"/>
        <property name="bearbeitungszeitpunkt" column="BearbeitungsZeitpunkt" type="timestamp"/>
        <property name="bearbeitungsbeginn" column="BearbeitungsBeginn" type="timestamp"/>
        <property name="bearbeitungsende" column="BearbeitungsEnde" type="timestamp"/>
        <!--    <property name="typ" column="Typ" type="integer"/>  -->
        <property name="homeverzeichnisNutzen" column="homeverzeichnisNutzen" type="short"/>

        <property name="typMetadaten" type="java.lang.Boolean">
            <column name="typMetadaten" sql-type="bit"/>
        </property>
        <property name="typAutomatisch" type="java.lang.Boolean">
            <column name="typAutomatisch" sql-type="bit"/>
        </property>
        <property name="typImportFileUpload" type="java.lang.Boolean">
            <column name="typImportFileUpload" sql-type="bit"/>
        </property>
        <property name="typExportRus" type="java.lang.Boolean">
            <column name="typExportRus" sql-type="bit"/>
        </property>
        <property name="typImagesLesen" type="java.lang.Boolean">
            <column name="typImagesLesen" sql-type="bit"/>
        </property>
        <property name="typImagesSchreiben" type="java.lang.Boolean">
            <column name="typImagesSchreiben" sql-type="bit"/>
        </property>
        <property name="typExportDMS" type="java.lang.Boolean">
            <column name="typExportDMS" sql-type="bit"/>
        </property>
        <property name="typBeimAnnehmenModul" type="java.lang.Boolean">
            <column name="typBeimAnnehmenModul" sql-type="bit"/>
        </property>
        <property name="typBeimAnnehmenAbschliessen" type="java.lang.Boolean">
            <column name="typBeimAnnehmenAbschliessen" sql-type="bit"/>
        </property>
        <property name="typBeimAnnehmenModulUndAbschliessen" type="java.lang.Boolean">
            <column name="typBeimAnnehmenModulUndAbschliessen" sql-type="bit"/>
        </property>
        <property name="typScriptStep" type="java.lang.Boolean">
            <column name="typScriptStep" sql-type="bit"/>
        </property>
        <property name="scriptname1" column="scriptName1" type="string"/>
        <property name="typAutomatischScriptpfad" column="typAutomatischScriptpfad" type="string"/>
        <property name="scriptname2" column="scriptName2" type="string"/>
        <property name="typAutomatischScriptpfad2" column="typAutomatischScriptpfad2" type="string"/>
        <property name="scriptname3" column="scriptName3" type="string"/>
        <property name="typAutomatischScriptpfad3" column="typAutomatischScriptpfad3" type="string"/>
        <property name="scriptname4" column="scriptName4" type="string"/>
        <property name="typAutomatischScriptpfad4" column="typAutomatischScriptpfad4" type="string"/>
        <property name="scriptname5" column="scriptName5" type="string"/>
        <property name="typAutomatischScriptpfad5" column="typAutomatischScriptpfad5" type="string"/>
        <property name="typBeimAbschliessenVerifizieren" type="java.lang.Boolean">
            <column name="typBeimAbschliessenVerifizieren" sql-type="bit"/>
        </property>
        <property name="typModulName" column="typModulName" type="string"/>
        <property name="batchStep" type="java.lang.Boolean">
            <column name="batchStep" sql-type="bit"/>
        </property>

        <property name="stepPlugin" column="stepPlugin" type="string"/>
        <property name="validationPlugin" column="validationPlugin" type="string"/>

        <many-to-one name="bearbeitungsbenutzer" class="de.sub.goobi.beans.Benutzer" column="BearbeitungsBenutzerID" foreign-key="FK_BearbeitungsBenutzerID"/>
        <many-to-one name="prozess" class="de.sub.goobi.beans.Prozess" column="ProzesseID" foreign-key="FK_ProzesseID"/>

        <set name="benutzer" table="schritteberechtigtebenutzer">
            <key column="schritteID" foreign-key="FK_SchritteID"/>
            <many-to-many column="BenutzerID" class="de.sub.goobi.beans.Benutzer" foreign-key="FK_BenutzerID"/>
        </set>

        <set name="benutzergruppen" table="schritteberechtigtegruppen">
            <key column="schritteID" foreign-key="FK_SchritteID"/>
            <many-to-many column="BenutzerGruppenID" class="de.sub.goobi.beans.Benutzergruppe" foreign-key="FK_BenutzerGruppenID"/>
        </set>

    </class>

</hibernate-mapping>
